## 변수 선언

### 목차

1. [변수 선언](#변수-선언-1)
2. [ES5 vs ES6](#es5-vs-es6)
3. [키워드](#키워드)
4. [undefined](#undefined)
5. [변수 이름은 어디에 등록되는가?](#변수-이름은-어디에-등록되는가)


### 변수 선언

> 변수 선언이란 변수를 생성하는 것을 말한다.   
> 값을 저장하기 위한 메모리 공간을 확보하고, 변수 이름과 확보된 메모리 공간의 주소를 연결해서   
> 값을 저장할 수 있게 준비하는 것을 말한다.

- 변수 선언에 의해 확보된 메모리 공간은 확보가 해제되기 전까지는 누구도 확보된 메모리 공간을 사용할 수 없도록 보호되므로 안전하게 사용할 수 있다.
- **변수를 사용하려면 반드시 선언이 필요하다.**
- **변수를 선언할 때는 `var`, `let`, `const` 키워드를 사용한다.**

### ES5 vs ES6

- `var` 키워드는 여러 단점이 있는데, 가장 대표적인 단점이 블록 레벨 스코프를 지원하지 않고,   
  함수 레벨 스코프를 지원한다는 것이다. 이로 인해 의도치 않게 전역 변수가 선언되어 심각한 부작용이 발생하기도 한다.
- ES6 에서 `let` 과 `const` 키워드를 도입한 이유는 `var` 키워드의 여러 단점을 보완하기 위해서다.
- ES6 에서 `let` 과 `const` 키워드가 도입되었다고 해서 `var` 키워드가 폐기된 것은 아니다. (권장하지는 않지만 사용 가능)
- **ES6 는 기본적으로 하위 호환성을 유지하면서 ES5 의 기반 위에 새로운 기능을 추가한 것이다.**
- 다시 말해, **ES6 는 ES5 의 상위 집합이다.**

### 키워드

> 키워드는 자바스크립트 코드를 해석하고 실행하는 자바스크립트 엔진이 수행할 동작을 규정한 일종의 명령어다.   
> 자바스크립트 엔진은 키워드를 만나면 자신이 수행해야 할 약속된 동작을 수행한다.   
> 예를 들어, `var` 키워드를 만나면 자바스크립트 엔진은 뒤에 오는 변수 이름으로 새로운 변수를 선언한다.

### undefined

> undefined 는 자바스크립트에서 제공하는 원시 타입의 값이다.

```javascript
var score; // 변수 선언
```

- 위 변수 선언문은 변수 이름을 등록하고 값을 저장할 메모리 공간을 확보한다.
- 변수를 선언한 이후, 아직 변수에 값을 할당하지 않았다.
- 따라서 변수 선언에 의해 확보된 메모리 공간은 비어있을 것으로 생각할 수 있으나    
  확보된 메모리 공간에는 자바스크립트 엔진에 의해 `undefined` 라는 값이 암묵적으로 할당되어 초기화된다.
- 자바스크립트 엔진은 변수 선언을 다음과 같은 2단계에 거쳐 수행한다.
  1. 선언 단계
  - 변수 이름을 등록해서 자바스크립트 엔진에 변수의 존재를 알린다.
  2. 초기화 단계
  - 값을 저장하기 위한 메모리 공간을 확보하고 암묵적으로 undefined 를 할당해 초기화한다.

### 변수 이름은 어디에 등록되는가?

> 변수 이름을 비롯한 모든 식별자는 실행 컨텍스트에 등록된다.

- 실행 컨텍스트는 자바스크립트 엔진이 소스코드를 평가하고 실행하기 위해 필요한 환경을 제공하고 코드의 실행 결과를 실제로 관리하는 영역이다.
- 자바스크립트 엔진은 실행 컨텍스트를 통해 식별자와 스코프를 관리한다.
- 변수 이름과 변수 값은 실행 컨텍스트 내에 키/값 형식인 객체로 등록되어 관리하는 영역이다.
- 초기화란 변수가 선언된 이후 최초로 값을 할당하는 것을 말한다.
- 초기화 단계를 거치지 않으면 확보된 메모리 공간에는 이전에 다른 애플리케이션이 사용했던 값이 남아 있을 수 있다.
- 이러한 값을 쓰레기 값이라 한다.
- 변수를 사용하려면 반드시 선언이 필요하다. 변수뿐만 아니라 모든 식별자가 그렇다.
- 만약 선언하지 않은 식별자에 접근하면 ReferenceError(참조 에러)가 발생한다.
- ReferenceError 는 식별자를 통해 값을 참조하려 했지만 자바스크립트 엔진이 등록된 식별자를 찾을 수 없을 때 발생하는 에러
